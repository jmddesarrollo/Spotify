<div>
  <div class="w3-center">
    <h1>{{titulo}}</h1>
  </div>

  <div *ngIf="identity">
    <p>Estas logueado en la aplicación.</p>
    <button class="w3-btn w3-orange w3-round" (click)="logout()">Cerrar sesión</button>
  </div>
  

  <div *ngIf="!identity" class="w3-container w3-row">
    <div class="w3-half w3-panel w3-card">
      <div class="w3-blue w3-round-large w3-center">
        <h1>Identifícate</h1>
      </div>
      <div class="w3-panel w3-red w3-display-container" *ngIf="errorMensaje">
        <span (click)="ocultarError()" class="w3-button w3-red w3-hover-red w3-large w3-display-topright">&times;</span>
        <h3>Error!</h3>
        <p>Ha ocurrido un error al intentar acceder a la aplicación: {{errorMensaje}}</p>
      </div>
      <div class="w3-container">
        <form #loginForm="ngForm" (ngSubmit)="onSubmit()">
          <p>
            <label>Correo electrónico:</label>
            <input type="email" #email="ngModel" name="email" [(ngModel)]="usuario.email" class="w3-input w3-animate-input" required />
            <span *ngIf="!email.valid && email.touched" class="w3-text-red">El email es obligatorio.</span>
          </p>
          <p>
            <label>Contraseña:</label>
            <input type="password" #password="ngModel" name="password" [(ngModel)]="usuario.contrasenha" class="w3-input w3-animate-input" required />
            <span *ngIf="!email.valid && email.touched" class="w3-text-red">El email es obligatorio.</span>
          </p>
          <p class="w3-center">
            <input type="submit" class="w3-btn w3-blue w3-round" value="Entrar" />            
          </p>          
        </form>
      </div>
    </div>

    <div class="w3-half w3-panel w3-card">
      <div class="w3-red w3-round-large w3-center">
        <h1>Regístrate</h1>
      </div>
      <div class="w3-container">
        <form>
          <p>
            <label>Nombre:</label>
            <input type="text" class="w3-input w3-animate-input" required />
          </p>
          <p>
            <label>Apellidos:</label>
            <input type="text" class="w3-input w3-animate-input" required />
          </p>
          <p>
            <label>Correo electrónico:</label>
            <input type="text" class="w3-input w3-animate-input" required />
          </p>
          <p>
            <label>Contraseña:</label>
            <input type="password" class="w3-input w3-animate-input" required />
          </p>
          <p class="w3-center">
            <input type="submit" class="w3-btn w3-green w3-round" value="Registrarse" />
          </p>          
        </form>
      </div>
    </div>
  </div>
</div>

<div class="w3-clear"></div>
